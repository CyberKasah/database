/* Пример 1: Создать хранимую процедуру для вывода информации о сервере, базе данных и пользователе */
CREATE PROC Пример1Процедура AS BEGIN SELECT @@Servername AS Сервер, @@Version AS [Версия СУБД], Db_Name() AS [База данных], User AS [Пользователь базы данных], System_User AS [Системный пользователь] END
/* Пример 2: Создать хранимую процедуру для вывода названий и столиц всех стран */
CREATE PROC Пример2Процедура AS BEGIN SELECT Название, Столица FROM Страны END
/* Пример 3: Создать хранимую процедуру для вывода списка стран заданной части света */
CREATE PROC Пример3Процедура @Конт AS VARCHAR(50) AS BEGIN SELECT Название, Столица, Площадь, Население FROM Страны WHERE Континент = @Конт END
/* Пример 4: Создать хранимую процедуру для вывода списка стран с площадью в заданном интервале */
CREATE PROC Пример4Процедура @A AS FLOAT, @B AS FLOAT AS BEGIN SELECT Название, Столица, Площадь, Население, Континент FROM Страны WHERE Площадь BETWEEN @A AND @B END
/* Пример 5: Создать хранимую процедуру для подсчета стран, содержащих заданную букву */
CREATE PROC Пример5Процедура @Буква AS CHAR(1), @Количество AS INT OUTPUT AS BEGIN SELECT @Количество = COUNT(*) FROM Страны WHERE CHARINDEX(@Буква, Название) > 0 END
/* Пример 6: Создать хранимую процедуру для вывода трех стран с наименьшей площадью в заданной части света, с Европой по умолчанию */
CREATE PROC Пример6Процедура @Конт AS VARCHAR(50) = 'Европа' AS BEGIN SELECT TOP 3 Название, Столица, Площадь, Население, Континент FROM Страны WHERE Континент = @Конт ORDER BY Площадь END
/* Пример 7: Создать хранимую процедуру для создания таблицы «Страны_У» и заполнения странами, начинающимися на «У» */
CREATE PROC Пример7Процедура AS BEGIN SELECT Название, Столица, Площадь, Население, Континент INTO Страны_У FROM Страны WHERE LEFT(Название, 1) = 'У' END
/* Пример 8: Создать хранимую процедуру для удаления таблицы «Страны_У» с возвратом количества строк */
CREATE PROC Пример8Процедура AS BEGIN DECLARE @K AS INT SELECT @K = COUNT(*) FROM Страны_У DROP TABLE Страны_У RETURN @K END